
//
// Copyright (c) 1992-2025 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
// Respecting the rights of other people is an important part of empowering one another.
//


REST
etThread.osProcessIdPhaseAdamF( tin0P , ifcIDpHASEhANDOFFoLD_SHUTTINGdOWN ) ;

}
    }
        etThread = 0 ;

        }
            else                    { ZE( countT , tnu ) ; etThread.osThreadF( tin0P , tnu , tmServeTimeF , 0 , 0  , flTHREADlAUNCH_null , 0 , 0 , (countT)pso ) ; }
            if( ether || etThread ) { DEL( pso ) ; }
            socket.acceptF( tin0P , pso , idPortPeer , nnPeer , countTC() ) ; ___( pso ) ;
            ZE( countT , idPortPeer ) ;
            nicNameC nnPeer ;
            ZE( socketC* , pso ) ;
        {
        while( !ether && !etThread )
        etThread.etherCryF( tin0P ) ;

        socket.listenF( tin0P ) ;
        countT idPort = socket.bindF( tin0P , ifcPORToLD1tIMEaUTHORITY ) ;
        socketC socket( tin0P , etThread , TAG( TAGiDnULL ) ) ;
    {
    while( !ether && !etThread )

    etThread.strokeF( tin0P , T("IdeaFarm " "(tm) City Time Authority\r\ni state the city reference time on request\r\n") ) ;
{
else
}
    etThread.strokeF( tin0P , T("Another ")+textIdFileC( tin0P , DDNAME )+T(" appears to be alive on this computer.  Only one is allowed.") ) ;
    etThread = 0  ;
{
if( etThread )
U:: USE napkinC OBJECT TO TEST FOR ALONENESS
batonC baton( tin0P , TAG( TAGiDnULL ) , T("3e30104") ) ;

TODO

DONE( tmServeTimeF )

}
    DEL( pso ) ;
    pso->readF( tin0P , &bnu , 1 , flSOCKETcrEAD_STILLhUNGRYiSoK ) ;
    ZE( byteT , bnu ) ;
    pso->writeF( tin0P , (byteT*)pc2 , sizeof pc2 ) ;
    countT pc2[] = { time1 , time2 } ;
    etThread.osTimeNowF( tin0P , time1 , time2 , 1 ) ;
    ZE( sCountT , time2 ) ;
    ZE( countT , time1 ) ;
    pso->etherF( tin0P , etThread ) ;
{
if( pso )
__Z( pso ) ;
socketC* pso = pTaskP ? (socketC*)pTaskP->c1 : 0 ;

TASK( tmServeTimeF )

/*1*/WAKEhIDE( "city.time.authority" )/*1*/
/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
//
// Copyright (c) 1992-2025 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//


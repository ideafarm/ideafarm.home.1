
//
// Copyright (c) 1992-2025 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
// Respecting the rights of other people is an important part of empowering one another.
//


}
    replyP.flagsHttpReply |= flHTTPrEPLY_NOrEPLYcLOSEcONNECTION ;                                               //U:: ADD CODE TO OBEY THIS FLAG

    }
        }
            DEL( prPosts ) ;
            if( prPosts ) meP.pushSnipF( tin0P , stBodyP , *prPosts ) ;

            etThread.strMakeF( tin0P , LF , prPosts , tSay , 0 , flSTRmAKE_PREFIXlENGTH ) ; ___( prPosts ) ;
            ZE( pbRefC* , prPosts ) ;

            TN( tSay , bMatch ? "Credentials accepted [" : "Credentials rejected [" ) ; tSay += TF2(idIn,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED)+T("].\r\n" ) ;
        {

        }
            etThread.traceF( tin0P , T("cdn open house / password received via http [nnPeerP]: ")+T(nnPeerP) ) ;
            etThread.boxPutF( tin0P , tFileSecretReceived , "yes" , 3 ) ;
            TN( tFileSecretReceived , "////" postCRAFTWORKfACTORY "/d/ideafarm.home.102/ephemeral/rdp.open.house/secret.received" ) ;
        {
        if( bMatch )

        boolT bMatch = tSecret.csF( tin0P ) && !etThread.strCompareF( tin0P , tSecret , tValueSecret ) ;

        }
            etThread.delF( tin0P , postSecret ) ;

            }
                tSecret = TF2(secret,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED) ;
                countT& secret = *(countT*)postSecret ;
            {
            if( postSecret && costSecret == sizeof( countT ) )

            }
                }
                    etThread.traceF( tin0P , T("there is no secret, so RDP Open House is not currently available") ) ;
                    POOPRqUIET
                {
                if( POOP )
                ((tin1S&)tin0P).pEtScratch->boxGetShadowF( tin0P , postSecret , costSecret , tFileSecret , 1 ) ; ___( postSecret ) ;
                SCOOPS
            {
            IFsCRATCHoK
            ZE( countT   , costSecret ) ;
            ZE( osTextT* , postSecret ) ;
            TN( tFileSecret , "////" postCRAFTWORKfACTORY "/d/ideafarm.home.102/ephemeral/rdp.open.house/secret" ) ;
        {
        TN( tSecret , "" ) ;
    {
    else
    }
        DEL( prPosts ) ;
        if( prPosts ) meP.pushSnipF( tin0P , stBodyP , *prPosts ) ;

        etThread.strMakeF( tin0P , LF , prPosts , tSay , 0 , flSTRmAKE_PREFIXlENGTH ) ; ___( prPosts ) ;
        ZE( pbRefC* , prPosts ) ;

        etThread.traceF( tin0P , tSay ) ;
        TN( tSay , "" ) ; tSay = T("You didn't present credentials [")+TF2(idIn,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED)+T("].\r\n" ) ;
    {
    if( !tValueSecret.csF( tin0P ) )

    countT idIn = 1 + incv02AM( idInLath ) ;
    static countT idInLath ;
    
    homeS& home = homeS::homeIF() ;

    //LOGrAW( "\r\n---- psttKVReportP (END) -----------------------------------------------------------------\r\n" ) ;
    //LOGrAW( T(psttKVReportP) ) ;
    //LOGrAW( "\r\n---- psttKVReportP (BEGIN) -----------------------------------------------------------------\r\n" ) ;
    //LOGrAW3( "noteFromSnailMailerCBF [bValid]:    " , bValid , "\r\n" ) ;

    }
        }
            }
                if( !etThread.strCompareF( tin0P , psttLeverKVP , *pptKey[ offk ] ) ) *pptValue[ offk ] = T((strokeS*)(countT)swKVP) ;
            {
            for( countT offk = 0 ; offk < sizeof pptKey / sizeof pptKey[ 0 ] ; offk ++ )

            psttLeverKVP = (strokeS*)swKVP.leverF( tin0P , idf ) ;
        {
        for( countT idf = 1 ; idf <= cFlavors ; idf ++ )
        countT cFlavors = swKVP.cFlavorsF( tin0P ) ;

        } ;
            &tValueSecret ,
            //CS:CODEsYNC: 1d20005 1d20005 1d20005
        {
        textC* pptValue[] =

        } ;
            &tKeySecret ,
            //CS:CODEsYNC: 1d20005 1d20005 1d20005
        {
        textC* pptKey[] =

        TN( tKeySecret , "secret" ) ;

        //LOGrAW( "\r\n---- tValidationReply GOOD (END) -----------------------------------------------------------------\r\n" ) ;
        //LOGrAW( tValidationReply ) ;
        //LOGrAW( "\r\n---- tValidationReply GOOD (BEGIN) -----------------------------------------------------------------\r\n" ) ;
        //LOGrAW( "\r\n---- tValidationRequest GOOD (END) -----------------------------------------------------------------\r\n" ) ;
        //LOGrAW( tValidationRequest ) ;
        //LOGrAW( "\r\n---- tValidationRequest GOOD (BEGIN) -----------------------------------------------------------------\r\n" ) ;
        //U::COMMENT THIS OUT IN PRODUCTION AFTER CONFIDENT IN PROD FUNCTION
    {
    TN( tValueSecret , "" ) ;

    }
        LOGrAW( "\r\n---- postBodyP (END) -----------------------------------------------------------------\r\n" ) ;
        LOGrAW( postBodyP ) ;
        LOGrAW( "\r\n---- postBodyP (BEGIN) -----------------------------------------------------------------\r\n" ) ;
    {
    if( postBodyP )

    //THIS WORKS IN FIREFOX BROWSER: https://www.sandbox.paypal.com:443/cgi-bin/webscr?cmd=_notify-validate&mc_gross=1.00&protection_eligibility=Eligible&address_status=confirmed&payer_id=4QLHUR4EYW37J&address_street=1+Main+St&payment_date=15%3A55%3A04+Jun+04%2C+2020+PDT&payment_status=Completed&charset=windows-1252&address_zip=95131&first_name=John&mc_fee=0.33&address_country_code=US&address_name=John+Doe&notify_version=3.9&subscr_id=I-DEKU4NNTHS0H&payer_status=verified&business=sb-znjve1276155%40business.example.com&address_country=United+States&address_city=San+Jose&verify_sign=AS.sXmO3SZlbZsuBgmx57wrfjxyDAk855hu6vdRmhFRd0mqr2l3hMU7l&payer_email=sb-prtxq883780%40personal.example.com&txn_id=5W609239EF681420H&payment_type=instant&btn_id=4125335&last_name=Doe&address_state=CA&receiver_email=sb-znjve1276155%40business.example.com&payment_fee=0.33&receiver_id=755UKLGFJ8XU2&txn_type=subscr_payment&item_name=Wo'O's+Table+Registration+and+Subscription&mc_currency=USD&item_number=20200604&residence_country=US&test_ipn=1&transaction_subject=Wo'O's+Table+Registration+and+Subscription&payment_gross=1.00&ipn_track_id=5075e5b427054 HTTP/1.1
    //OLD FORMAT: GET /cgi-bin/webscr?cmd=_notify-validate&mc_gross=1.00&protection_eligibility=Eligible&address_status=confirmed&payer_id=4QLHUR4EYW37J&address_street=1+Main+St&payment_date=17%3A04%3A06+Jun+04%2C+2020+PDT&payment_status=Completed&charset=windows-1252&address_zip=95131&first_name=John&mc_fee=0.33&address_country_code=US&address_name=John+Doe&notify_version=3.9&subscr_id=I-1CXF383WH8P0&payer_status=verified&business=sb-znjve1276155%40business.example.com&address_country=United+States&address_city=San+Jose&verify_sign=AEHpL6M1JS9Z4r02TsvVIey5ocFqAgLcANkEe9kVFcJG4kqTWCtTJprq&payer_email=sb-prtxq883780%40personal.example.com&txn_id=1XX85736SF014420R&payment_type=instant&btn_id=4125335&last_name=Doe&address_state=CA&receiver_email=sb-znjve1276155%40business.example.com&payment_fee=0.33&receiver_id=755UKLGFJ8XU2&txn_type=subscr_payment&item_name=Wo%27O%27s+Table+Registration+and+Subscription&mc_currency=USD&item_number=20200604&residence_country=US&test_ipn=1&transaction_subject=Wo%27O%27s+Table+Registration+and+Subscription&payment_gross=1.00&ipn_track_id=92fb2ec1f693b HTTP/1.1
   //20200731@1556: CHANGED FROM HTTP/1.0 TO HTTP/1.1 WITHOUT ANALYSIS

    boolT bSandbox = etherC::ifc_idHomeI_IF() & fliIDhOME_HOMELESS ;
    TN( tValidationReply   , "" ) ;
    TN( tValidationRequest , "" ) ;
    ZE( boolT , bGot ) ;
    ZE( boolT , bValid ) ;
{
/*1*/voidT noteFromHttpServerRdpOpenHouseCBF( tin0S& tin0P , etherC& etThread , const boolT& bQuitP , httpServerC& meP , countT& cArgP , httpReplyS& replyP , stackC& stBodyP , const strokeS* const psttKVReportP , switchC& swKVP , strokeS*& psttLeverKVP , sessionsC& sessionsP , nicNameC& nnPeerP , const strokeS* const psttNameP , const strokeS* const psttQueryKVP , const strokeS* const psttPeerAgentP , osTextT*& postBodyP )/*1*/

/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
//
// Copyright (c) 1992-2025 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//


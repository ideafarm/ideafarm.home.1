
//
// Copyright (c) 1992-2024 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
// Respecting the rights of other people is an important part of empowering one another.
//

REST

sgnDone_tmWorkF.waitF( tin0P ) ;
etThread.osThreadF( TaRG3sGNdONEcBsTACK( tmWorkF , sgnDone_tmWorkF , TICK ) ) ;
signC sgnDone_tmWorkF( tin0P , TAG( TAGiDnULL ) ) ;

TODO

DONE( tmWorkF )
}
    etherC::loafIF( tin0P ) ;
    etThread.traceF( tin0P , T("ok") ) ;

    while( cDo -- ) etThread.osThreadF( TaRG2cBsTACK( tmGorillaF , CBsTACKmIN << 1 ) ) ;
cDo = 1 ;
    countT cDo = TUCK >> 3 ;

    _IO_
{
if( pTaskP )
TASK( tmWorkF )

DONE( tmGorillaF )
}
    etherC::loafIF( tin0P ) ;
    etThread.traceF( tin0P , T("ok") ) ;

    //TN( tTime , "" ) ; tTime = TTF(timeN1,timeN2) ;
    //etThread.osTimeNowF( tin0P , timeN1 , timeN2 ) ;
    //ZE( sCountT , timeN2 ) ;
    //ZE( countT  , timeN1 ) ;

    }
        //++ s ; ether.osSleepF( tin0P , TOCK >> 4 ) ;
        //B:++ s ; ether.osSleepF( tin0P , TOCK << 3 ) ;
        //B:++ s ; ether.osSleepF( tin0P , TOCK << 0 ) ;
        sleepC s( tin0P , TAG( TAGiDnULL ) ) ;

        /*if( posti && costi ) etThread.boxPutF( tin0P , T("///d/tmp/foo3.ttt") , posti , costi ) ;*/ etThread.delF( tin0P , posti ) ;
        }
            }
                etThread.traceF( tin0P , T("!exception / boxGetShadowF failed") ) ;
                POOPRqUIET
            {
            if( POOP )
            ((tin1S&)tin0P).pEtScratch->boxGetShadowF( tin0P , posti , costi , T("10.0.0.1//http/nu") , 1 , 0 , 0 , flOPENdETAILS_null , flBOXcgETf_HTTPdOnOTpREPENDhEADER , tRequestAll3 , tRequestAll3.csF( tin0P ) ) ; ___( posti ) ;
            SCOOPS
        {
        IFsCRATCHoK

        /*if( posti && costi ) etThread.boxPutF( tin0P , T("///d/tmp/foo2.ttt") , posti , costi ) ;*/ etThread.delF( tin0P , posti ) ;
        }
            }
                etThread.traceF( tin0P , T("!exception / boxGetShadowF failed") ) ;
                POOPRqUIET
            {
            if( POOP )
            ((tin1S&)tin0P).pEtScratch->boxGetShadowF( tin0P , posti , costi , T("10.0.0.1//http/nu") , 1 , 0 , 0 , flOPENdETAILS_null , flBOXcgETf_HTTPdOnOTpREPENDhEADER , tRequestAll2 , tRequestAll2.csF( tin0P ) ) ; ___( posti ) ;
            SCOOPS
        {
        IFsCRATCHoK

        /*if( posti && costi ) etThread.boxPutF( tin0P , T("///d/tmp/foo1.ttt") , posti , costi ) ;*/ etThread.delF( tin0P , posti ) ;

        etThread.traceF( tin0P , TTF(timeE1,timeE2) ) ;
        etThread.osTimeSubtractF( tin0P , timeE1 , timeE2 , timeN1 , timeN2 ) ;
        etThread.osTimeNowF( tin0P , timeE1 , timeE2 ) ;
        ZE( sCountT , timeE2 ) ;
        ZE( countT  , timeE1 ) ;
        
        }
            }
                etThread.traceF( tin0P , T("!exception / boxGetShadowF failed") ) ;
                POOPRqUIET
            {
            if( POOP )
            ((tin1S&)tin0P).pEtScratch->boxGetShadowF( tin0P , posti , costi , T("10.0.0.1//http/nu") , 1 , 0 , 0 , flOPENdETAILS_null , flBOXcgETf_HTTPdOnOTpREPENDhEADER , tRequestAll1 , tRequestAll1.csF( tin0P ) ) ; ___( posti ) ;
            SCOOPS
        {
        IFsCRATCHoK

        etThread.osTimeNowF( tin0P , timeN1 , timeN2 ) ;
        ZE( sCountT , timeN2 ) ;
        ZE( countT  , timeN1 ) ;
        
        //etThread.traceF( tin0P , T("stomp!") ) ;

        ZE( countT   , costi ) ;
        ZE( osTextT* , posti ) ;

        if( tInvoice.csF( tin0P ) - costInvoiceRequired ) { BLAMMOiD( 0x12344321 ) ; }
        tInvoice = TF3(1+incv02AM(idInvoiceLath),flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED|flFORMAT_FOREIGN|flFORMAT_FILLzE,8) ;
    {
    while( !ether )

    }
        tRequestAll3 = tHead+tContentLength3+T(postRaw3Part1)+tInvoice+T(postRaw3Part2) ;
        tRequestAll2 = tHead+tContentLength2+T(postRaw2Part1)+tInvoice+T(postRaw2Part2) ;
        tRequestAll1 = tHead+tContentLength1+T(postRaw1Part1)+tInvoice+T(postRaw1Part2) ;

        TN( tHead , postHead ) ;

        }
            tContentLength3 = T("Content-Length: ")+TF4(costRaw3Part1+costInvoiceRequired+costRaw3Part2,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED|flFORMAT_FOREIGN|flFORMAT_NObASE,0,0xa)+T("\r\n\r\n") ;
            tContentLength2 = T("Content-Length: ")+TF4(costRaw2Part1+costInvoiceRequired+costRaw2Part2,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED|flFORMAT_FOREIGN|flFORMAT_NObASE,0,0xa)+T("\r\n\r\n") ;
            tContentLength1 = T("Content-Length: ")+TF4(costRaw1Part1+costInvoiceRequired+costRaw1Part2,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED|flFORMAT_FOREIGN|flFORMAT_NObASE,0,0xa)+T("\r\n\r\n") ;
            //"Content-Length: 5718\r\n"

            const countT costRaw3Part2 = sizeof postRaw3Part2 - 1 ;
            const countT costRaw3Part1 = sizeof postRaw3Part1 - 1 ;
            const countT costRaw2Part2 = sizeof postRaw2Part2 - 1 ;
            const countT costRaw2Part1 = sizeof postRaw2Part1 - 1 ;
            const countT costRaw1Part2 = sizeof postRaw1Part2 - 1 ;
            const countT costRaw1Part1 = sizeof postRaw1Part1 - 1 ;
        {
        TN( tContentLength3 , "" ) ; 
        TN( tContentLength2 , "" ) ; 
        TN( tContentLength1 , "" ) ; 
    {
    TN( tRequestAll3 , "" ) ;
    TN( tRequestAll2 , "" ) ;
    TN( tRequestAll1 , "" ) ;

    const countT costInvoiceRequired = tInvoice.csF( tin0P ) ;
    TN( tInvoice , "" ) ; tInvoice = TF3(0,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED|flFORMAT_FOREIGN|flFORMAT_FILLzE,8) ;   //A:ASSUME: UPDATES TO tInvoice DO NOT CHANGE ITS LENGTH

    //U:: OPTIMIZE BY USING AN osTextT IMAGE AND PATCHING  EACH INVOICE NUMBER INTO IT

//Sleep( 1000 * 10 ) ;

    _IO_
{
if( pTaskP )
TASK( tmGorillaF )

countT idInvoiceLath ;

} ;

    "}\r\n"
    "  \"type\": \"customer.subscription.updated\"\r\n"
    "  },\r\n"
    "    \"idempotency_key\": \"2d7c956f-c3e4-4388-b65d-f9f621d7e1ac\"\r\n"
    "    \"id\": \"req_tReGXKykL98JHC\",\r\n"
    "  \"request\": {\r\n"
    "  \"pending_webhooks\": 2,\r\n"
    "  \"livemode\": false,\r\n"
    "  },\r\n"
    "    }\r\n"
    "      \"status\": \"incomplete\"\r\n"
    "      \"default_payment_method\": null,\r\n"
    "    \"previous_attributes\": {\r\n"
    "    },\r\n"
    "      \"trial_start\": null\r\n"
    "      },\r\n"
    "        }\r\n"
    "          \"missing_payment_method\": \"create_invoice\"\r\n"
    "        \"end_behavior\": {\r\n"
    "      \"trial_settings\": {\r\n"
    "      \"trial_end\": null,\r\n"
    "      \"transfer_data\": null,\r\n"
    "      \"test_clock\": null,\r\n"
    "      \"status\": \"active\",\r\n"
    "      \"start_date\": 1736792973,\r\n"
    "      \"schedule\": null,\r\n"
    "      \"quantity\": 1,\r\n"
    "      },\r\n"
    "        \"usage_type\": \"licensed\"\r\n"
    "        \"trial_period_days\": null,\r\n"
    "        \"transform_usage\": null,\r\n"
    "        \"tiers_mode\": null,\r\n"
    "        \"product\": \"prod_GORILLA01\",\r\n"
    "        \"nickname\": null,\r\n"
    "        \"meter\": null,\r\n"
    "        },\r\n"
    "        \"metadata\": {\r\n"
    "        \"livemode\": false,\r\n"
    "        \"interval_count\": 1,\r\n"
    "        \"interval\": \"day\",\r\n"
    "        \"currency\": \"usd\",\r\n"
    "        \"created\": 1735329717,\r\n"
    "        \"billing_scheme\": \"per_unit\",\r\n"
    "        \"amount_decimal\": \"100\",\r\n"
    "        \"amount\": 100,\r\n"
    "        \"aggregate_usage\": null,\r\n"
    "        \"active\": true,\r\n"
    "        \"object\": \"plan\",\r\n"
    "        \"id\": \"price_1QajjNLzWCJsgIUVCCnH6iGl\",\r\n"
    "      \"plan\": {\r\n"
    "      \"pending_update\": null,\r\n"
    "      \"pending_setup_intent\": null,\r\n"
    "      \"pending_invoice_item_interval\": null,\r\n"
    "      },\r\n"
    "        \"save_default_payment_method\": \"off\"\r\n"
    "        \"payment_method_types\": null,\r\n"
    "        },\r\n"
    "          \"us_bank_account\": null\r\n"
    "          \"sepa_debit\": null,\r\n"
    "          \"konbini\": null,\r\n"
    "          \"customer_balance\": null,\r\n"
    "          },\r\n"
    "            \"request_three_d_secure\": \"automatic\"\r\n"
    "            \"network\": null,\r\n"
    "          \"card\": {\r\n"
    "          \"bancontact\": null,\r\n"
    "          \"acss_debit\": null,\r\n"
    "        \"payment_method_options\": {\r\n"
    "      \"payment_settings\": {\r\n"
    "      \"pause_collection\": null,\r\n"
    "      \"on_behalf_of\": null,\r\n"
    "      \"next_pending_invoice_item_invoice\": null,\r\n"
    "      },\r\n"
    "      \"metadata\": {\r\n"
    "      \"livemode\": false,\r\n"
    "\",\r\n"

osTextT postRaw3Part2[] = {

} ;

    "      \"latest_invoice\": \"inv_gorilla_"
    "      },\r\n"
    "        \"url\": \"/v1/subscription_items?subscription=sub_1QgsOHLzWCJsgIUVuFK2KFO7\"\r\n"
    "        \"total_count\": 1,\r\n"
    "        \"has_more\": false,\r\n"
    "        ],\r\n"
    "          }\r\n"
    "            ]\r\n"
    "\r\n"
    "            \"tax_rates\": [\r\n"
    "            \"subscription\": \"sub_1QgsOHLzWCJsgIUVuFK2KFO7\",\r\n"
    "            \"quantity\": 1,\r\n"
    "            },\r\n"
    "              \"unit_amount_decimal\": \"100\"\r\n"
    "              \"unit_amount\": 100,\r\n"
    "              \"type\": \"recurring\",\r\n"
    "              \"transform_quantity\": null,\r\n"
    "              \"tiers_mode\": null,\r\n"
    "              \"tax_behavior\": \"unspecified\",\r\n"
    "              },\r\n"
    "                \"usage_type\": \"licensed\"\r\n"
    "                \"trial_period_days\": null,\r\n"
    "                \"meter\": null,\r\n"
    "                \"interval_count\": 1,\r\n"
    "                \"interval\": \"day\",\r\n"
    "                \"aggregate_usage\": null,\r\n"
    "              \"recurring\": {\r\n"
    "              \"product\": \"prod_GORILLA01\",\r\n"
    "              \"nickname\": null,\r\n"
    "              },\r\n"
    "              \"metadata\": {\r\n"
    "              \"lookup_key\": null,\r\n"
    "              \"livemode\": false,\r\n"
    "              \"custom_unit_amount\": null,\r\n"
    "              \"currency\": \"usd\",\r\n"
    "              \"created\": 1735329717,\r\n"
    "              \"billing_scheme\": \"per_unit\",\r\n"
    "              \"active\": true,\r\n"
    "              \"object\": \"price\",\r\n"
    "              \"id\": \"price_1QajjNLzWCJsgIUVCCnH6iGl\",\r\n"
    "            \"price\": {\r\n"
    "            },\r\n"
    "              \"usage_type\": \"licensed\"\r\n"
    "              \"trial_period_days\": null,\r\n"
    "              \"transform_usage\": null,\r\n"
    "              \"tiers_mode\": null,\r\n"
    "              \"product\": \"prod_GORILLA01\",\r\n"
    "              \"nickname\": null,\r\n"
    "              \"meter\": null,\r\n"
    "              },\r\n"
    "              \"metadata\": {\r\n"
    "              \"livemode\": false,\r\n"
    "              \"interval_count\": 1,\r\n"
    "              \"interval\": \"day\",\r\n"
    "              \"currency\": \"usd\",\r\n"
    "              \"created\": 1735329717,\r\n"
    "              \"billing_scheme\": \"per_unit\",\r\n"
    "              \"amount_decimal\": \"100\",\r\n"
    "              \"amount\": 100,\r\n"
    "              \"aggregate_usage\": null,\r\n"
    "              \"active\": true,\r\n"
    "              \"object\": \"plan\",\r\n"
    "              \"id\": \"price_1QajjNLzWCJsgIUVCCnH6iGl\",\r\n"
    "            \"plan\": {\r\n"
    "            },\r\n"
    "            \"metadata\": {\r\n"
    "            ],\r\n"
    "\r\n"
    "            \"discounts\": [\r\n"
    "            \"created\": 1736792974,\r\n"
    "            \"billing_thresholds\": null,\r\n"
    "            \"object\": \"subscription_item\",\r\n"
    "            \"id\": \"si_Ra2TbAepRvcHFE\",\r\n"
    "          {\r\n"
    "        \"data\": [\r\n"
    "        \"object\": \"list\",\r\n"
    "      \"items\": {\r\n"
    "      },\r\n"
    "        }\r\n"
    "          \"type\": \"self\"\r\n"
    "        \"issuer\": {\r\n"
    "        \"account_tax_ids\": null,\r\n"
    "      \"invoice_settings\": {\r\n"
    "      \"ended_at\": null,\r\n"
    "      ],\r\n"
    "\r\n"
    "      \"discounts\": [\r\n"
    "      \"discount\": null,\r\n"
    "      \"description\": null,\r\n"
    "      ],\r\n"
    "\r\n"
    "      \"default_tax_rates\": [\r\n"
    "      \"default_source\": null,\r\n"
    "      \"default_payment_method\": \"pm_1QgsOGLzWCJsgIUVET4VvXOR\",\r\n"
    "      \"days_until_due\": null,\r\n"
    "      \"customer\": \"cus_Ra2TEpM4kjoSGY\",\r\n"
    "      \"current_period_start\": 1736792973,\r\n"
    "      \"current_period_end\": 1736879373,\r\n"
    "      \"currency\": \"usd\",\r\n"
    "      \"created\": 1736792973,\r\n"
    "      \"collection_method\": \"charge_automatically\",\r\n"
    "      },\r\n"
    "        \"reason\": null\r\n"
    "        \"feedback\": null,\r\n"
    "        \"comment\": null,\r\n"
    "      \"cancellation_details\": {\r\n"
    "      \"canceled_at\": null,\r\n"
    "      \"cancel_at_period_end\": false,\r\n"
    "      \"cancel_at\": null,\r\n"
    "      \"billing_thresholds\": null,\r\n"
    "      \"billing_cycle_anchor_config\": null,\r\n"
    "      \"billing_cycle_anchor\": 1736792973,\r\n"
    "      },\r\n"
    "        \"liability\": null\r\n"
    "        \"enabled\": false,\r\n"
    "        \"disabled_reason\": null,\r\n"
    "      \"automatic_tax\": {\r\n"
    "      \"application_fee_percent\": null,\r\n"
    "      \"application\": null,\r\n"
    "      \"object\": \"subscription\",\r\n"
    "      \"id\": \"sub_1QgsOHLzWCJsgIUVuFK2KFO7\",\r\n"
    "    \"object\": {\r\n"
    "  \"data\": {\r\n"
    "  \"created\": 1736792976,\r\n"
    "  \"api_version\": \"2023-10-16\",\r\n"
    "  \"object\": \"event\",\r\n"
    "  \"id\": \"evt_1QgsOKLzWCJsgIUVwXZEqo6h\",\r\n"
    "{\r\n"

osTextT postRaw3Part1[] = {

} ;

    "}\r\n"
    "  \"type\": \"customer.subscription.created\"\r\n"
    "  },\r\n"
    "    \"idempotency_key\": \"2d7c956f-c3e4-4388-b65d-f9f621d7e1ac\"\r\n"
    "    \"id\": \"req_tReGXKykL98JHC\",\r\n"
    "  \"request\": {\r\n"
    "  \"pending_webhooks\": 2,\r\n"
    "  \"livemode\": false,\r\n"
    "  },\r\n"
    "    }\r\n"
    "      \"trial_start\": null\r\n"
    "      },\r\n"
    "        }\r\n"
    "          \"missing_payment_method\": \"create_invoice\"\r\n"
    "        \"end_behavior\": {\r\n"
    "      \"trial_settings\": {\r\n"
    "      \"trial_end\": null,\r\n"
    "      \"transfer_data\": null,\r\n"
    "      \"test_clock\": null,\r\n"
    "      \"status\": \"incomplete\",\r\n"
    "      \"start_date\": 1736792973,\r\n"
    "      \"schedule\": null,\r\n"
    "      \"quantity\": 1,\r\n"
    "      },\r\n"
    "        \"usage_type\": \"licensed\"\r\n"
    "        \"trial_period_days\": null,\r\n"
    "        \"transform_usage\": null,\r\n"
    "        \"tiers_mode\": null,\r\n"
    "        \"product\": \"prod_GORILLA01\",\r\n"
    "        \"nickname\": null,\r\n"
    "        \"meter\": null,\r\n"
    "        },\r\n"
    "        \"metadata\": {\r\n"
    "        \"livemode\": false,\r\n"
    "        \"interval_count\": 1,\r\n"
    "        \"interval\": \"day\",\r\n"
    "        \"currency\": \"usd\",\r\n"
    "        \"created\": 1735329717,\r\n"
    "        \"billing_scheme\": \"per_unit\",\r\n"
    "        \"amount_decimal\": \"100\",\r\n"
    "        \"amount\": 100,\r\n"
    "        \"aggregate_usage\": null,\r\n"
    "        \"active\": true,\r\n"
    "        \"object\": \"plan\",\r\n"
    "        \"id\": \"price_1QajjNLzWCJsgIUVCCnH6iGl\",\r\n"
    "      \"plan\": {\r\n"
    "      \"pending_update\": null,\r\n"
    "      \"pending_setup_intent\": null,\r\n"
    "      \"pending_invoice_item_interval\": null,\r\n"
    "      },\r\n"
    "        \"save_default_payment_method\": \"off\"\r\n"
    "        \"payment_method_types\": null,\r\n"
    "        },\r\n"
    "          \"us_bank_account\": null\r\n"
    "          \"sepa_debit\": null,\r\n"
    "          \"konbini\": null,\r\n"
    "          \"customer_balance\": null,\r\n"
    "          },\r\n"
    "            \"request_three_d_secure\": \"automatic\"\r\n"
    "            \"network\": null,\r\n"
    "          \"card\": {\r\n"
    "          \"bancontact\": null,\r\n"
    "          \"acss_debit\": null,\r\n"
    "        \"payment_method_options\": {\r\n"
    "      \"payment_settings\": {\r\n"
    "      \"pause_collection\": null,\r\n"
    "      \"on_behalf_of\": null,\r\n"
    "      \"next_pending_invoice_item_invoice\": null,\r\n"
    "      },\r\n"
    "      \"metadata\": {\r\n"
    "      \"livemode\": false,\r\n"
    "\",\r\n"

osTextT postRaw2Part2[] = {

} ;

    "      \"latest_invoice\": \"inv_gorilla_"
    "      },\r\n"
    "        \"url\": \"/v1/subscription_items?subscription=sub_1QgsOHLzWCJsgIUVuFK2KFO7\"\r\n"
    "        \"total_count\": 1,\r\n"
    "        \"has_more\": false,\r\n"
    "        ],\r\n"
    "          }\r\n"
    "            ]\r\n"
    "\r\n"
    "            \"tax_rates\": [\r\n"
    "            \"subscription\": \"sub_1QgsOHLzWCJsgIUVuFK2KFO7\",\r\n"
    "            \"quantity\": 1,\r\n"
    "            },\r\n"
    "              \"unit_amount_decimal\": \"100\"\r\n"
    "              \"unit_amount\": 100,\r\n"
    "              \"type\": \"recurring\",\r\n"
    "              \"transform_quantity\": null,\r\n"
    "              \"tiers_mode\": null,\r\n"
    "              \"tax_behavior\": \"unspecified\",\r\n"
    "              },\r\n"
    "                \"usage_type\": \"licensed\"\r\n"
    "                \"trial_period_days\": null,\r\n"
    "                \"meter\": null,\r\n"
    "                \"interval_count\": 1,\r\n"
    "                \"interval\": \"day\",\r\n"
    "                \"aggregate_usage\": null,\r\n"
    "              \"recurring\": {\r\n"
    "              \"product\": \"prod_GORILLA01\",\r\n"
    "              \"nickname\": null,\r\n"
    "              },\r\n"
    "              \"metadata\": {\r\n"
    "              \"lookup_key\": null,\r\n"
    "              \"livemode\": false,\r\n"
    "              \"custom_unit_amount\": null,\r\n"
    "              \"currency\": \"usd\",\r\n"
    "              \"created\": 1735329717,\r\n"
    "              \"billing_scheme\": \"per_unit\",\r\n"
    "              \"active\": true,\r\n"
    "              \"object\": \"price\",\r\n"
    "              \"id\": \"price_1QajjNLzWCJsgIUVCCnH6iGl\",\r\n"
    "            \"price\": {\r\n"
    "            },\r\n"
    "              \"usage_type\": \"licensed\"\r\n"
    "              \"trial_period_days\": null,\r\n"
    "              \"transform_usage\": null,\r\n"
    "              \"tiers_mode\": null,\r\n"
    "              \"product\": \"prod_GORILLA01\",\r\n"
    "              \"nickname\": null,\r\n"
    "              \"meter\": null,\r\n"
    "              },\r\n"
    "              \"metadata\": {\r\n"
    "              \"livemode\": false,\r\n"
    "              \"interval_count\": 1,\r\n"
    "              \"interval\": \"day\",\r\n"
    "              \"currency\": \"usd\",\r\n"
    "              \"created\": 1735329717,\r\n"
    "              \"billing_scheme\": \"per_unit\",\r\n"
    "              \"amount_decimal\": \"100\",\r\n"
    "              \"amount\": 100,\r\n"
    "              \"aggregate_usage\": null,\r\n"
    "              \"active\": true,\r\n"
    "              \"object\": \"plan\",\r\n"
    "              \"id\": \"price_1QajjNLzWCJsgIUVCCnH6iGl\",\r\n"
    "            \"plan\": {\r\n"
    "            },\r\n"
    "            \"metadata\": {\r\n"
    "            ],\r\n"
    "\r\n"
    "            \"discounts\": [\r\n"
    "            \"created\": 1736792974,\r\n"
    "            \"billing_thresholds\": null,\r\n"
    "            \"object\": \"subscription_item\",\r\n"
    "            \"id\": \"si_Ra2TbAepRvcHFE\",\r\n"
    "          {\r\n"
    "        \"data\": [\r\n"
    "        \"object\": \"list\",\r\n"
    "      \"items\": {\r\n"
    "      },\r\n"
    "        }\r\n"
    "          \"type\": \"self\"\r\n"
    "        \"issuer\": {\r\n"
    "        \"account_tax_ids\": null,\r\n"
    "      \"invoice_settings\": {\r\n"
    "      \"ended_at\": null,\r\n"
    "      ],\r\n"
    "\r\n"
    "      \"discounts\": [\r\n"
    "      \"discount\": null,\r\n"
    "      \"description\": null,\r\n"
    "      ],\r\n"
    "\r\n"
    "      \"default_tax_rates\": [\r\n"
    "      \"default_source\": null,\r\n"
    "      \"default_payment_method\": null,\r\n"
    "      \"days_until_due\": null,\r\n"
    "      \"customer\": \"cus_Ra2TEpM4kjoSGY\",\r\n"
    "      \"current_period_start\": 1736792973,\r\n"
    "      \"current_period_end\": 1736879373,\r\n"
    "      \"currency\": \"usd\",\r\n"
    "      \"created\": 1736792973,\r\n"
    "      \"collection_method\": \"charge_automatically\",\r\n"
    "      },\r\n"
    "        \"reason\": null\r\n"
    "        \"feedback\": null,\r\n"
    "        \"comment\": null,\r\n"
    "      \"cancellation_details\": {\r\n"
    "      \"canceled_at\": null,\r\n"
    "      \"cancel_at_period_end\": false,\r\n"
    "      \"cancel_at\": null,\r\n"
    "      \"billing_thresholds\": null,\r\n"
    "      \"billing_cycle_anchor_config\": null,\r\n"
    "      \"billing_cycle_anchor\": 1736792973,\r\n"
    "      },\r\n"
    "        \"liability\": null\r\n"
    "        \"enabled\": false,\r\n"
    "        \"disabled_reason\": null,\r\n"
    "      \"automatic_tax\": {\r\n"
    "      \"application_fee_percent\": null,\r\n"
    "      \"application\": null,\r\n"
    "      \"object\": \"subscription\",\r\n"
    "      \"id\": \"sub_1QgsOHLzWCJsgIUVuFK2KFO7\",\r\n"
    "    \"object\": {\r\n"
    "  \"data\": {\r\n"
    "  \"created\": 1736792974,\r\n"
    "  \"api_version\": \"2023-10-16\",\r\n"
    "  \"object\": \"event\",\r\n"
    "  \"id\": \"evt_1QgsOKLzWCJsgIUVwoZuqouc\",\r\n"
    "{\r\n"

osTextT postRaw2Part1[] = {

} ;

    "}\r\n"
    "  \"type\": \"checkout.session.completed\"\r\n"
    "  },\r\n"
    "    \"idempotency_key\": null\r\n"
    "    \"id\": null,\r\n"
    "  \"request\": {\r\n"
    "  \"pending_webhooks\": 1,\r\n"
    "  \"livemode\": false,\r\n"
    "  },\r\n"
    "    }\r\n"
    "      \"url\": null\r\n"
    "      \"ui_mode\": \"hosted\",\r\n"
    "      },\r\n"
    "        \"amount_tax\": 0\r\n"
    "        \"amount_shipping\": 0,\r\n"
    "        \"amount_discount\": 0,\r\n"
    "      \"total_details\": {\r\n"
    "      \"success_url\": \"https://stripe.com\",\r\n"
    "      \"subscription\": \"sub_1QgsOHLzWCJsgIUVuFK2KFO7\",\r\n"
    "      \"submit_type\": \"auto\",\r\n"
    "      \"status\": \"complete\",\r\n"
    "      ],\r\n"
    "\r\n"
    "      \"shipping_options\": [\r\n"
    "      \"shipping_details\": null,\r\n"
    "      \"shipping_cost\": null,\r\n"
    "      \"shipping_address_collection\": null,\r\n"
    "      \"setup_intent\": null,\r\n"
    "      },\r\n"
    "        \"payment_method_save\": null\r\n"
    "        \"payment_method_remove\": null,\r\n"
    "        ],\r\n"
    "          \"always\"\r\n"
    "        \"allow_redisplay_filters\": [\r\n"
    "      \"saved_payment_method_options\": {\r\n"
    "      \"recovered_from\": null,\r\n"
    "      },\r\n"
    "        \"enabled\": false\r\n"
    "      \"phone_number_collection\": {\r\n"
    "      \"payment_status\": \"paid\",\r\n"
    "      ],\r\n"
    "        \"amazon_pay\"\r\n"
    "        \"cashapp\",\r\n"
    "        \"card\",\r\n"
    "      \"payment_method_types\": [\r\n"
    "      },\r\n"
    "        }\r\n"
    "          \"request_three_d_secure\": \"automatic\"\r\n"
    "        \"card\": {\r\n"
    "      \"payment_method_options\": {\r\n"
    "      },\r\n"
    "        \"parent\": null\r\n"
    "        \"id\": \"pmc_1N4qKkLzWCJsgIUVCIjwyfeH\",\r\n"
    "      \"payment_method_configuration_details\": {\r\n"
    "      \"payment_method_collection\": \"always\",\r\n"
    "      \"payment_link\": \"plink_1QajkzLzWCJsgIUVspKEAHAP\",\r\n"
    "      \"payment_intent\": null,\r\n"
    "      \"mode\": \"subscription\",\r\n"
    "      },\r\n"
    "      \"metadata\": {\r\n"
    "      \"locale\": \"en\",\r\n"
    "      \"livemode\": false,\r\n"
    "      \"invoice_creation\": null,\r\n"
    "\",\r\n"

osTextT postRaw1Part2[] = {

} ;

    "      \"invoice\": \"inv_gorilla_"
    "      \"expires_at\": 1736879341,\r\n"
    "      \"customer_email\": null,\r\n"
    "      },\r\n"
    "        ]\r\n"
    "\r\n"
    "        \"tax_ids\": [\r\n"
    "        \"tax_exempt\": \"none\",\r\n"
    "        \"phone\": null,\r\n"
    "        \"name\": \"joe blow\",\r\n"
    "        \"email\": \"test.20250113.1029@ideafarm.com\",\r\n"
    "        },\r\n"
    "          \"state\": null\r\n"
    "          \"postal_code\": \"11111\",\r\n"
    "          \"line2\": null,\r\n"
    "          \"line1\": null,\r\n"
    "          \"country\": \"US\",\r\n"
    "          \"city\": null,\r\n"
    "        \"address\": {\r\n"
    "      \"customer_details\": {\r\n"
    "      \"customer_creation\": \"if_required\",\r\n"
    "      \"customer\": \"cus_Ra2TEpM4kjoSGY\",\r\n"
    "      },\r\n"
    "        \"terms_of_service_acceptance\": null\r\n"
    "        \"submit\": null,\r\n"
    "        \"shipping_address\": null,\r\n"
    "        \"after_submit\": null,\r\n"
    "      \"custom_text\": {\r\n"
    "      ],\r\n"
    "        }\r\n"
    "          \"type\": \"text\"\r\n"
    "          },\r\n"
    "            \"value\": \"1029\"\r\n"
    "            \"minimum_length\": null,\r\n"
    "            \"maximum_length\": 4,\r\n"
    "            \"default_value\": null,\r\n"
    "          \"text\": {\r\n"
    "          \"optional\": true,\r\n"
    "          },\r\n"
    "            \"type\": \"custom\"\r\n"
    "            \"custom\": \"Hawker's ID (Case sensitive: 'a' and 'A' differ.)\",\r\n"
    "          \"label\": {\r\n"
    "          \"key\": \"hawkersid\",\r\n"
    "        {\r\n"
    "        },\r\n"
    "          \"type\": \"numeric\"\r\n"
    "          \"optional\": false,\r\n"
    "          },\r\n"
    "            \"value\": \"29\"\r\n"
    "            \"minimum_length\": null,\r\n"
    "            \"maximum_length\": 3,\r\n"
    "            \"default_value\": null,\r\n"
    "          \"numeric\": {\r\n"
    "          },\r\n"
    "            \"type\": \"custom\"\r\n"
    "            \"custom\": \"Your True Age in Years\",\r\n"
    "          \"label\": {\r\n"
    "          \"key\": \"age\",\r\n"
    "        {\r\n"
    "      \"custom_fields\": [\r\n"
    "      \"currency_conversion\": null,\r\n"
    "      \"currency\": \"usd\",\r\n"
    "      \"created\": 1736792941,\r\n"
    "      },\r\n"
    "        \"terms_of_service\": \"none\"\r\n"
    "        \"promotions\": \"none\",\r\n"
    "        \"payment_method_reuse_agreement\": null,\r\n"
    "      \"consent_collection\": {\r\n"
    "      \"consent\": null,\r\n"
    "      \"client_secret\": null,\r\n"
    "      \"client_reference_id\": null,\r\n"
    "      \"cancel_url\": \"https://stripe.com\",\r\n"
    "      \"billing_address_collection\": \"auto\",\r\n"
    "      },\r\n"
    "        \"status\": null\r\n"
    "        \"liability\": null,\r\n"
    "        \"enabled\": false,\r\n"
    "      \"automatic_tax\": {\r\n"
    "      \"amount_total\": 100,\r\n"
    "      \"amount_subtotal\": 100,\r\n"
    "      \"allow_promotion_codes\": true,\r\n"
    "      \"after_expiration\": null,\r\n"
    "      \"adaptive_pricing\": null,\r\n"
    "      \"object\": \"checkout.session\",\r\n"
    "      \"id\": \"cs_test_b1ylMJ3ho4xCRd8UY5J87F6zFRQXHSV7k0HNW4drhSBFxmQcYObMpvlAZk\",\r\n"
    "    \"object\": {\r\n"
    "  \"data\": {\r\n"
    "  \"created\": 1736792976,\r\n"
    "  \"api_version\": \"2023-10-16\",\r\n"
    "  \"object\": \"event\",\r\n"
    "  \"id\": \"evt_1QgsOKLzWCJsgIUVWOHctTbJ\",\r\n"
    "{\r\n"

osTextT postRaw1Part1[] = {

} ;

    "Host: webhooks.ideafarm.com\r\n"
    "Connection: close\r\n"
    "Stripe-Signature: t=1736809627,v1=b15a66f137ec949edca5d0abd4f3e750358eefa30ee6c5d119523f8caf81413e,v0=a43eaea4e1eb354ecc6b64a3620ffc75e3c57b49240fc0d7dfbb4be480c1cf7d\r\n"
    "Accept: */*; q=0.5, application/xml\r\n"
    "User-Agent: Stripe/1.0 (+https://stripe.com/docs/webhooks)\r\n"
    "Cache-Control: no-cache\r\n"
    "Content-Type: application/json; charset=utf-8\r\n"
    "POST /nobot/notify/stripe.20240206@1123 HTTP/1.1\r\n"

osTextT postHead[] = {

/*1*/WAKEhIDE( "ifcIDaDAM_GORILLAwEBHOOKS" )/*1*/
/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
//
// Copyright (c) 1992-2024 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//

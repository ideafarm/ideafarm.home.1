
//
// Copyright (c) 1992-2024 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
// Respecting the rights of other people is an important part of empowering one another.
//


REST

etThread.osThreadF( tin0P , countTC() , tmDeadlocked2F , 0 , 0  , flTHREADlAUNCH_null , 0 , 0 , (countT)&grabDead1 , (countT)&grabDead2 ) ;
etThread.osThreadF( tin0P , countTC() , tmDeadlocked1F , 0 , 0  , flTHREADlAUNCH_null , 0 , 0 , (countT)&grabDead1 , (countT)&grabDead2 ) ; //THESE DEMONSTRATE DEADLOCK REPORTING
grabOldS grabDead2( thirdC::third_tinMainG_IF() , TAG( TAGiDnULL ) ) ;
grabOldS grabDead1( thirdC::third_tinMainG_IF() , TAG( TAGiDnULL ) ) ;

TODO

DONE( tmDeadlocked2F )
}
    ungrabF( tin0P , grabDead2 ) ;
    ungrabF( tin0P , grabDead1 ) ;
    TELL( "cleaning up" )
    grabF( tin0P , grabDead1 ) ;
    TELL( "grabbing 1" )
    etThread.osSleepF( tin0P , TUCK * 0x40 ) ;
    TELL( "napping" )
    grabF( tin0P , grabDead2 ) ;
    TELL( "grabbing 2" )
    grabOldS& grabDead2 = *(grabOldS*)pTaskP->c2 ;
    grabOldS& grabDead1 = *(grabOldS*)pTaskP->c1 ;
{
if( pTaskP && pTaskP->c1 && pTaskP->c2 )
TASK( tmDeadlocked2F )

DONE( tmDeadlocked1F )
}
    ungrabF( tin0P , grabDead1 ) ;
    ungrabF( tin0P , grabDead2 ) ;
    TELL( "cleaning up" )
    grabF( tin0P , grabDead2 ) ;
    TELL( "grabbing 2" )
    etThread.osSleepF( tin0P , TUCK * 0x40 ) ;
    TELL( "napping" )
    grabF( tin0P , grabDead1 ) ;
    TELL( "grabbing 1" )
    grabOldS& grabDead2 = *(grabOldS*)pTaskP->c2 ;
    grabOldS& grabDead1 = *(grabOldS*)pTaskP->c1 ;
{
if( pTaskP && pTaskP->c1 && pTaskP->c2 )
TASK( tmDeadlocked1F )

/*1*/WAKEhIDE( "example.simplest.debugging.deadlocks" )/*1*/
/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
//
// Copyright (c) 1992-2024 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//


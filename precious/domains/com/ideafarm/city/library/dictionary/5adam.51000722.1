
//
// Copyright (c) 1992-2025 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
// Respecting the rights of other people is an important part of empowering one another.
//


REST

etherC::loafIF( tin0P ) ;
etThread.traceF( tin0P , T("ok") ) ;

etThread.diskWalkF( tin0P , cDirs , cFiles , T("///d/tmp/archive.shrunk/") , bQuit , diskWalkFooCBF , 0 , 0 , 0 ) ;
ZE( boolT , bQuit ) ;
ZE( countT , cFiles ) ;
ZE( countT , cDirs ) ;

TODO


}
    return bDoIt ;

    }
        ((tin1S&)tin0P).pEther->delF( tin0P , psttShort ) ;
        ((tin1S&)tin0P).pEther->delF( tin0P , psttPath ) ;

        }
            DEL( pInfoShrunk ) ;
            DEL( pInfoUnshrunk ) ;

            }
                ((tin1S&)tin0P).pEther->diskFileOrDirDeleteF( tin0P , tShrunk , flFILEoRdIRdELETE_null , 0 ) ;
                etherC::etRockIF( tin0P ).traceF( tin0P , T("deleting: ")+tShrunk ) ;
            {
            if( pInfoShrunk->cbUsedHigh > pInfoUnshrunk->cbUsedHigh || pInfoShrunk->cbUsed > pInfoUnshrunk->cbUsed )

            }
                ((tin1S&)tin0P).pEther->diskFileQueryF( tin0P , pInfoUnshrunk , fi ) ;
                fileC fi( tin0P , (strokeS*)tUnshrunk , ifcOPENaCCESS_R , ifcOPENsHARE_R , flOPENdETAILS_LOCsEQ , ifcOPENhOW_nFeO , flFILEaTTR1_null, flFILEaTTR2_null , flFILEc_null , 0 , 0 ) ;
            {
            ZE( infoFileS* , pInfoUnshrunk ) ;

            }
                ((tin1S&)tin0P).pEther->diskFileQueryF( tin0P , pInfoShrunk , fi ) ;
                fileC fi( tin0P , (strokeS*)tShrunk , ifcOPENaCCESS_R , ifcOPENsHARE_R , flOPENdETAILS_LOCsEQ , ifcOPENhOW_nFeO , flFILEaTTR1_null, flFILEaTTR2_null , flFILEc_null , 0 , 0 ) ;
            {
            ZE( infoFileS* , pInfoShrunk ) ;
        {
        if( ((tin1S&)tin0P).pEther->diskFileExistsF( tin0P , tUnshrunk ) )

        TN( tUnshrunk , "" ) ; tUnshrunk = T("///d/tmp/archive.unshrunk/")+T(psttShort) ;

        ((tin1S&)tin0P).pEther->strBisectF( tin0P , psttPath , psttShort , tShrunk , T("/") , -1 , flSTRbISECT_APPENDdELIMITER , 0 ) ;  ___( psttPath ) ; ___( psttShort ) ;
        ZE( strokeS* , psttShort ) ;
        ZE( strokeS* , psttPath ) ;

        TN( tShrunk , ifName ) ;
        ifFileNameC ifName( tin0P , *((tin1S&)tin0P).pEther , postNameP ) ;
    {
    if( postNameP[ thirdC::c_strlenIF( tin0P , postNameP ) - 1 ] != '\\' && ((tin1S&)tin0P).pEther ) // IF NOT A DIRECTORY
    ZE( boolT , bDoIt ) ;
    _IO_
{
/*1*/boolT diskWalkFooCBF( tin0S& tin0P , countT& cDirsP , countT& cFilesP , boolT& bQuitP , const osTextT* const postNameP , countT* const pcArgP , const countT* const pModuloFilesP , const countT* const pModuloDirsP )/*1*/


/*1*/WAKEsHOWtEXT( "tool.archive.zap.shrunk.if.bigger" )/*1*/
/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
//
// Copyright (c) 1992-2025 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//

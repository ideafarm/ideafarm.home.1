
//
// Copyright (c) 1992-2024 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
// Respecting the rights of other people is an important part of empowering one another.
//


REST

etherC::loafIF( tinBaseP ) ;
//etThread.osSuspendF( tinBaseP , 0 , 0 , nicNameC() ) ;
etThread.traceF( tinBaseP , T("ok") ) ;

}
    }
        while( ~hWalk ) ;
        }
            if( !etThread.diskFileExistsF( tinBaseP , tTest ) ) etThread.traceF( tinBaseP , T("does not exist in archive [ys]:    ")+T(psttys) ) ;

            TN( tTest , "" ) ; tTest = tPrefix+T(psttys) ;

            //etThread.traceF( tinBaseP , psttys ) ;
            strokeS* psttys = (strokeS*)stYearShort.downF( tinBaseP , hWalk ) ;
        {
        do
        handleC hWalk( tinBaseP , TAG( TAGiDnULL ) , ifcIDtYPEhANDLE_STACKwALK ) ;

        TN( tPrefix , "///e/ideafarm.archives/wo.ideafarm/" ) ;
    {
    if( stYearShort )
    etThread.traceF( tinBaseP , T("[cFiles]:    ")+TF2(stYearShort,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED) ) ;

    }
        etThread.diskWalkF( tinBaseP , cDirs , cFiles , T("///d/ideafarm.home.101/devices/") , ether , flDISKwALK_null , walkCBF , pcArg , 0 , 0 ) ;
        ZE( countT , cFiles ) ;
        ZE( countT , cDirs  ) ;

        countT  pcArg[] = { (countT)&etThread , (countT)(strokeS*)tDelim , (countT)&tb4 , (countT)&tIdeaFarmArchivesRejects , (countT)&tDotHeyDotChunkDot , (countT)&tDotHeyDotChunkDotDayDotZip , (countT)&stYearShort } ;

        TN( tDotHeyDotChunkDotDayDotZip , ".!.chunk.day.zip"           ) ;
        TN( tDotHeyDotChunkDot          , ".!.chunk."                  ) ;
        //TN( tIdeaFarmArchivesRejects    , "ideafarm.archives.lonely" ) ;
        TN( tIdeaFarmArchivesRejects    , "ideafarm.archives.rejects"  ) ;
        TN( tb4                         , "    "                       ) ;
        TN( tDelim                      , "/"                          ) ;
        _IO_
    {
    stackC stYearShort( tinBaseP , etThread , TAG( TAGiDnULL ) , flSTACKc_DOnOTsERIALIZE , ifcSTACKtYPE_PTR_strokeS ) ;

    _IO_
{

TODO

}
    return bDo ;

    }
        }
            }
                if( !ids ) etherP.delF( tinBaseP , psttYearShort ) ;
                stYearShortP.sinkF( tinBaseP , ids , psttYearShort , flSTACKsINK_UNIQUE , 0 , 0 ) ;
                ZE( countT , ids ) ;

                }
                    etherP.delF( tinBaseP , psttnu ) ;
                    etherP.strBisectF( tinBaseP , psttnu , psttYearShort , tLongChunk , T("/") , - 2 , flSTRbISECT_APPENDdELIMITER ) ; ___( psttnu ) ; ___( psttYearShort ) ;
                    ZE( strokeS* , psttnu ) ;

                    }
                        etherP.delF( tinBaseP , psttPath ) ;
                        tLongChunk = T(psttPath)+tShortChunk ;
                        etherP.delF( tinBaseP , psttnu ) ;
                        etherP.strBisectF( tinBaseP , psttPath , psttnu , tLong , T("/") , - 1 , flSTRbISECT_APPENDdELIMITER ) ; ___( psttPath ) ; ___( psttnu ) ;
                        ZE( strokeS* , psttnu ) ;
                        ZE( strokeS* , psttPath  ) ;
                    {
                    TN( tLongChunk , "" ) ;

                    }
                        etherP.delF( tinBaseP , psttPrefix ) ;
                        tShortChunk = T(psttPrefix)+tDotHeyDotChunkDotDayDotZipP ;
                        etherP.delF( tinBaseP , psttShort ) ;
                        etherP.strSubstringF( tinBaseP , psttPrefix , idf , idl , psttShort ) ; ___( psttPrefix ) ;
                        countT idl = 0x28 ;
                        countT idf = 1 ;
                        ZE( strokeS* , psttPrefix ) ;

                        // !ideafarm.a.2.00000000.00000001.20080707@1909.20180302@0742.3e37dc8ab5d6b8901c3c9efea2e61b66.001.fset.zip
                        // 123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef0
                        // 0              1               2               3               4               5               6               7               8

                        etherP.delF( tinBaseP , psttnu ) ;
                        etherP.strBisectF( tinBaseP , psttnu , psttShort , tLong , T("/") , - 1 , flSTRbISECT_APPENDdELIMITER ) ; ___( psttnu ) ; ___( psttShort ) ;
                        ZE( strokeS* , psttShort ) ;
                        ZE( strokeS* , psttnu  ) ;
                    {
                    TN( tShortChunk , "" ) ;
                {
                else
                }
                    //etherP.traceF( tinBaseP , psttYearShort ) ;
                    etherP.delF( tinBaseP , psttnu ) ;
                    etherP.strBisectF( tinBaseP , psttnu , psttYearShort , tLong , T("/") , - 2 , flSTRbISECT_APPENDdELIMITER ) ; ___( psttnu ) ; ___( psttYearShort ) ;
                    ZE( strokeS* , psttnu ) ;
                {
                if( etherP.strIdF( tinBaseP , tDotHeyDotChunkDotP , tLong ) )
                ZE( strokeS* , psttYearShort ) ;
            {
            else
            }
                }
                    BLAMMOiD( 0x77774444 ) ;
                    _IO_
                {
                if( cWords > 5 )
            {
            if( !bDo )

            etherP.delF( tinBaseP , pstt1w ) ;
            }
                }
                    case 5 : { if( etherP.strCompareF( tinBaseP , psttc1 , tIdeaFarmArchivesRejectsP ) ) bDo = 0 ; break ; }
                {
                switch( ++ idw )

                // etherP.traceF( tinBaseP , TF2(++idw,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED)+tb4P+T(psttc1) ) ;
            {
            FORsTRINGSiN1( pstt1w )
            //THIS TESTING IS NOT REDUNDANT ; IT IS NEEDED FOR FILES THAT ARE IN devices/ OR IN THE ROOT FOLDER OF A DEVICE

            ZE( countT , idw ) ;
            countT cWords = etherP.strWordsF( tinBaseP , pstt1w , tLong , sttq , psttzDelimP , flSTRwORDS_null , 0 , 0 , 0 , 0 , 0 ) ; ___( pstt1w ) ;
            strokeS sttq( 0 , sc_IGNOREqUOTES ) ;
            ZE( strokeS* , pstt1w ) ;

            // | 8    !ideafarm.9.2.00000000.00000001.20161024@1500.20170926@1130.0de587178e6e42aa5487e80aff3be200.001.meta.hashedname
            // | 7    2016
            // | 6    archive
            // | 5    duplicates
            // | 4    hdd3.arc.2021010601
            // | 3    devices
            // | 2    ideafarm.home.101
            // | 1    d
            // | ///d/ideafarm.home.101/devices/hdd3.arc.2021010601/duplicates/archive/2016/!ideafarm.9.2.00000000.00000001.20161024@1500.20170926@1130.0de587178e6e42aa5487e80aff3be200.001.meta.hashedname
            // EXAMPLE
        {
        else
        }
            if( bDo ) etherP.traceF( tinBaseP , T("walking folder:    ")+tLong ) ;

            etherP.delF( tinBaseP , pstt1w ) ;
            }
                }
                    case 5 : { if( etherP.strCompareF( tinBaseP , psttc1 , tIdeaFarmArchivesRejectsP ) ) bDo = 0 ; break ; }
                {
                switch( ++ idw )

                // etherP.traceF( tinBaseP , TF2(++idw,flFORMAT_NObIGITvALUES|flFORMAT_UNSIGNED)+tb4P+T(psttc1) ) ;
            {
            FORsTRINGSiN1( pstt1w )
            ZE( countT , idw ) ;
            etherP.strWordsF( tinBaseP , pstt1w , tLong , sttq , psttzDelimP , flSTRwORDS_null , 0 , 0 , 0 , 0 , 0 ) ; ___( pstt1w ) ;
            strokeS sttq( 0 , sc_IGNOREqUOTES ) ;
            ZE( strokeS* , pstt1w ) ;

            // | 7    2016
            // | 6    archive
            // | 5    duplicates
            // | 4    hdd3.arc.2021010601
            // | 3    devices
            // | 2    ideafarm.home.101
            // | 1    d
            // | ///d/ideafarm.home.101/devices/hdd3.arc.2021010601/duplicates/archive/2016/
            // EXAMPLE
        {
        if( bDir )
        boolT bDir = psttzLong[ CSpREFIX - 1 + psttzLong->idAdam ].idAdam == '/' ;

        //etherP.traceF( tinBaseP , tLong ) ;

        const strokeS* const psttzLong = tLong ;
        TN( tLong , iffn ) ;
        ifFileNameC iffn( tinBaseP , etherP , postNameP ) ;

        _IO_
    {
    else if( !bQuitP )
    }
        //etherP.traceF( tinBaseP , T("a folder has been walked") ) ;
    {
    if( !postNameP || !*postNameP )
    boolT bDo = 1 ;

    stackC&  stYearShortP                 = *(stackC*)pcArgP[ 6 ] ;
    textC&   tDotHeyDotChunkDotDayDotZipP =  *(textC*)pcArgP[ 5 ] ;
    textC&   tDotHeyDotChunkDotP          =  *(textC*)pcArgP[ 4 ] ;
    textC&   tIdeaFarmArchivesRejectsP    =  *(textC*)pcArgP[ 3 ] ;
    textC&   tb4P                         =  *(textC*)pcArgP[ 2 ] ;
    strokeS* psttzDelimP                  = (strokeS*)pcArgP[ 1 ] ;
    etherC&  etherP                       = *(etherC*)pcArgP[ 0 ] ;

    _IO_
{
boolT walkCBF( tinBaseS& tinBaseP , countT& cDirsP , countT& cFilesP , const boolT& bQuitP , const osTextT* const postNameP , countT* const pcArgP , const countT* const pModuloDirsP , const countT* const pModuloFilesP )

/*1*/WAKEsHOWtEXT( "tool.verify.archive.rejected.files" )/*1*/
/**/
*/
/*

//
// Respecting the rights of other people is an important part of empowering one another.
// This proprietary software was crafted at great expense and with great hardship by one man.  It took 33 years.
//
// Copyright (c) 1992-2024 Wo Of Ideafarm.  All rights reserved.  See https://github.com/ideafarm/ideafarm.home.1 for permitted uses.
//
